@{
	Layout = "~/Views/Shared/_Children.cshtml";
	var infoTabView = Html.GetRuntimeUivIew("Details");
	var managerTabView = Html.GetRuntimeUivIew("Accounts");
	var prifix = "Ac_Catalog_Children_";
}
<div id="@(prifix)splitter" class="mini-splitter" vertical="true" style="width: 100%; height: 100%;">
	<div size="260" showcollapsebutton="true">
		<div class="mini-toolbar" style="border-left: 0; border-right: 0; border-top: 0px; padding: 2px;">
			<div style="float: left">
				@{Html.RenderPartial("Partials/UiViewButtons");}
				<input id="@(prifix)chkbIncludedescendants" class="mini-checkbox" text="包括下级" truevalue="1"
					falsevalue="0" />
			</div>
			<div style="float: right; padding-right: 5px;">
			</div>
			<div style="clear: both;">
			</div>
		</div>
		<div class="mini-fit">
			<div id="@(prifix)datagrid1" class="mini-datagrid" style="width:100%;height:100%;" allowAlternating="true" 
				url="@Url.Action("GetPlistChildren")" idfield="Id" multiselect="true" showModified="false"
				sizeList="[5,10,20,50]" pagesize="10" showFilterRow="true">
				<div property="columns">
					<div type="indexcolumn"></div>
					<div type="checkcolumn"></div>
					<div name="action" width="70" headeralign="center" align="center" cellstyle="padding:0;">
						<a id="@(prifix)btnSearchClear" property="filter" class="mini-button" style="float: right;">条件清空</a>
					</div>
					<div field="Name" width="150" headeralign="center" allowsort="true">
						@Html.IconLabel("Name")
						<input id="@(prifix)NameFilter" name="Name" property="filter" class="mini-textbox" style="width: 100%;" />
					</div>
					<div field="ParentName" width="100" headeralign="center" allowsort="true">
						@Html.IconLabel("ParentName")
						<input id="@(prifix)ParentNameFilter" name="ParentName" property="filter" class="mini-textbox" style="width: 100%;" />
					</div>
					<div field="ParentCode" width="200" headeralign="center" allowsort="true">
						@Html.IconLabel("ParentCode")
						<input id="@(prifix)ParentCodeFilter" name="ParentCode" property="filter" class="mini-textbox" style="width: 100%;" />
					</div>
					<div field="Code" width="200" headeralign="center" allowsort="true">
						@Html.IconLabel("Code")
						<input id="@(prifix)CodeFilter" name="Code" property="filter" class="mini-textbox" style="width: 100%;" />
					</div>
					<div field="CategoryCode" width="90" headeralign="center" allowsort="true">
						@Html.IconLabel("CategoryCode")
						<input id="@(prifix)CategoryCodeFilter" property="filter" name="CategoryCode" class="mini-combobox" style="width: 100%;"
							   textfield="name" valuefield="code" data="@Html.DicItemJsonArray(Html.GetProperty("CategoryCode"))" shownullitem="true" />
					</div>
					<div field="IsEnabled" width="80" headeralign="center" align="center" allowsort="true">
						@Html.IconLabel("IsEnabled")
						<input id="@(prifix)IsEnabledFilter" property="filter" name="IsEnabled" class="mini-combobox" style="width: 100%;"
							textfield="name" valuefield="code" data="@Html.DicItemJsonArray(Html.GetProperty("IsEnabled"))" shownullitem="true" />
					</div>
					<div field="SortCode" width="70" headeralign="center" align="center" allowsort="true">
						@Html.IconLabel("SortCode")
					</div>
					<div field="CreateOn" width="130" headeralign="center" dateformat="yyyy-MM-dd HH:mm:ss" allowsort="true">
						@Html.IconLabel("CreateOn")
					</div>
				</div>
			</div>
		</div>
	</div>
	<div showcollapsebutton="true">
		<div id="@(prifix)tabs1" class="mini-tabs" style="width: 100%; height: 100%;display:none;" activeindex="0"
			bodystyle="padding:0;border:0;">
			<div name="infoTab" bodyCls="inner" title="@infoTabView.Title" iconStyle="background:url(/content/icons/16x16/@infoTabView.Icon)">
			</div>
			<div name="managerTab" title="@managerTabView.Title" iconStyle="background:url(/content/icons/16x16/@managerTabView.Icon)">
			</div>
			@{
				var operationLogView = this.GetOperationLogEntityType();
			}
			<div name="operationLogTab" bodycls="inner" title="@operationLogView.Title" iconStyle="background:url(/content/icons/16x16/@operationLogView.Icon)">
			</div>
		</div>
	</div>
</div>
